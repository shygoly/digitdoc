# 数字人医生系统（digitDoc）- 开发指南总索引

> **完整的规范驱动开发指南**
> 包含项目宪法、产品需求、架构设计、详细步骤、模板

---

## 📚 核心文档导航

### 1️⃣ **项目宪法与规范** ← **从这里开始**
📄 **文件**：`PROJECT_SPECIFICATION.md`

**内容**：
- 🏛️ 项目宪法（7 大核心原则）
- 🎯 产品需求规范（8 项功能目标）
- 🏗️ 系统架构设计（整体拓扑、技术栈）
- 📐 功能分解与任务清单
- 🔄 开发流程与质量标准
- 📊 交付物清单

**适用对象**：
- 项目经理（理解整体目标）
- 架构师（架构决策）
- 开发者（开发指导）
- QA（验收标准）

**阅读时间**：60 分钟

---

### 2️⃣ **详细开发路线图**
📄 **文件**：`DEVELOPMENT_ROADMAP.md`

**内容**：
- 📅 10 周交付计划（按天详细展开）
- 🔧 Week 1-2 基础设施搭建（含代码）
- 🎬 Week 3-4 核心播放与采集（含代码片段）
- 🎯 Week 5-10 业务流程与优化（任务清单）
- 🚀 快速参考命令
- 📝 每周检查点

**适用对象**：
- 开发者（日常工作指导）
- 技术主管（进度管理）

**阅读时间**：120 分钟

---

### 3️⃣ **特性规范模板**
📄 **文件**：`FEATURE_TEMPLATE.md`

**内容**：
- 📌 特性基础信息
- 🎯 用户故事与验收标准
- 🏗️ 技术架构与实现计划
- 📋 任务分解（独立可完成的小任务）
- 📊 性能与质量指标
- 🔐 安全与合规检查
- 🚀 发布与回滚计划

**适用对象**：
- 每个新特性的开发者（使用此模板创建规范）
- 技术主管（审核与批准）

**使用场景**：
```bash
# 开发新特性时
cp FEATURE_TEMPLATE.md specs/feat-001-voice-input.md
# 然后按照模板填写，提交 PR 进行评审
```

**阅读时间**：30 分钟（作为参考）

---

### 4️⃣ **macOS 开发调试手册**
📄 **文件**：`macOS开发调试手册.md`

**内容**：
- 🧑‍💻 环境准备
- 📁 项目结构推荐
- 🎮 VSCode 调试配置
- 🎥 wsplayer 与流媒体调试
- 🎤 WebRTC 与语音调试
- 💻 socket.io 与 REST 调试
- 🏥 模拟医生端大屏
- 🔍 常见调试命令
- ⚙️ macOS vs Windows 差异

**适用对象**：
- macOS 开发者（日常调试）

**阅读时间**：30 分钟

---

### 5️⃣ **技术架构设计方案**
📄 **文件**：`技术架构.md`

**内容**：
- 🌍 Windows 端整体方案
- 📊 模块划分
- 🎬 播放与采集链路
- 🏥 医生端大屏展示
- 📋 功能映射与检查清单

**适用对象**：
- 架构师
- 系统设计者

**阅读时间**：45 分钟

---

### 6️⃣ **现有项目文档**

#### 核心组件文档
📄 **文件**：`CLAUDE.md`
- Video Player 组件（zvvideo.js）详解
- API 接口说明
- 已知问题与注意事项

#### 产品需求文档
- `数字人医生产品介绍.pdf` - 17 页产品说明（含图）
- `数字人医生前端设计需求书v1.0.docx` - UI/UX 需求
- `数字人医生系统接口.docx` - API 接口文档

---

## 🚀 快速开始（5 分钟）

### 给项目经理

1. 阅读 `PROJECT_SPECIFICATION.md` 的"产品需求规范"部分（15 min）
2. 查看"8 大功能目标"表格（5 min）
3. 了解"10 周交付计划"概览（DEVELOPMENT_ROADMAP.md 顶部）

### 给开发者

1. 阅读 `PROJECT_SPECIFICATION.md` 的"项目宪法"（10 min）
2. 查看 `DEVELOPMENT_ROADMAP.md` 中当前周的任务
3. 按照 `FEATURE_TEMPLATE.md` 创建新特性规范
4. 参考 `macOS开发调试手册.md` 配置开发环境

### 给架构师

1. 阅读 `PROJECT_SPECIFICATION.md` 的"系统架构"部分（30 min）
2. 查看 `技术架构.md` 的完整设计方案
3. 评审所有 `FEATURE_TEMPLATE.md` 中的"技术架构与实现计划"

### 给 QA

1. 阅读 `PROJECT_SPECIFICATION.md` 的"8 大功能目标"（5 min）
2. 查看每个特性规范的"验收标准"
3. 按照"性能与质量指标"进行测试

---

## 📊 文档关系图

```
PROJECT_SPECIFICATION.md（项目宪法与总规范）
    ↓
    ├─→ DEVELOPMENT_ROADMAP.md（按周的详细步骤）
    │    └─→ 周任务清单
    │
    ├─→ FEATURE_TEMPLATE.md（新特性规范模板）
    │    └─→ 每个特性都应按此模板创建规范文件
    │
    ├─→ 技术架构.md（Windows 部署方案）
    │
    ├─→ macOS开发调试手册.md（开发环境与调试）
    │
    └─→ CLAUDE.md（现有组件文档）
         └─→ wsplayer、API、已知问题
```

---

## 📅 使用场景与流程

### 场景 1：启动新项目

```mermaid
1. 所有利益相关方阅读 PROJECT_SPECIFICATION.md ✓
   ↓
2. 项目经理制定 10 周计划（DEVELOPMENT_ROADMAP.md）✓
   ↓
3. 架构师进行架构审核 ✓
   ↓
4. 开发者按照当周任务开始实现
   ↓
5. 每个新特性都创建规范（使用 FEATURE_TEMPLATE.md）
```

### 场景 2：开发新特性

```
1. 创建 Feature 规范（基于 FEATURE_TEMPLATE.md）
   specs/feat-XXX-[名称].md
   ↓
2. 团队评审规范（架构、设计、合规）
   ↓
3. 规范通过后分解成任务清单
   ↓
4. 开发者按任务逐一实现
   ↓
5. 集成测试、性能测试、安全检查
   ↓
6. Code review（≥2 approvals）
   ↓
7. 合并到 main，发布
```

### 场景 3：处理生产问题

```
1. 记录问题（包括重现步骤、日志、截图）
   ↓
2. 分析根本原因（查阅 PROJECT_SPECIFICATION.md 的相关设计）
   ↓
3. 制定修复方案（可能需要临时 hotfix 或新特性）
   ↓
4. 实现并测试
   ↓
5. 快速审核与合并
   ↓
6. 灰度发布与监控
```

---

## 🎯 核心概念速查表

| 概念 | 说明 | 位置 |
|------|------|------|
| **项目宪法** | 7 大核心原则，指导所有决策 | PROJECT_SPECIFICATION.md § 项目宪法 |
| **用户故事** | "As a ... I want ... so that ..." 格式 | FEATURE_TEMPLATE.md § 用户故事 |
| **验收标准** | 特性必须满足的明确条件 | FEATURE_TEMPLATE.md § 验收场景 |
| **技术栈** | Electron + React + Vite + Tailwind | PROJECT_SPECIFICATION.md § 技术栈 |
| **系统架构** | 患者端 + 医生端 + 后端服务 | PROJECT_SPECIFICATION.md § 整体拓扑 |
| **Spec-Kit** | 规范驱动开发方法论 | DEVELOPMENT_ROADMAP.md § 周期流程 |
| **Kiosk 模式** | 医生端全屏禁用系统控件 | DEVELOPMENT_ROADMAP.md § Task 7.1 |

---

## ✅ 常见问题

### Q1: 我是新开发者，应该从哪里开始？

**A:**
1. 阅读 `PROJECT_SPECIFICATION.md` 的"项目宪法"（20 min）
2. 查看当周在 `DEVELOPMENT_ROADMAP.md` 的任务
3. 配置开发环境（参考 macOS开发调试手册.md）
4. 实现第一个任务

### Q2: 我想添加新功能，流程是什么？

**A:**
1. 基于 `FEATURE_TEMPLATE.md` 创建规范文件
2. 提交 PR 让架构师和 PM 评审
3. 规范通过后，在"任务分解"中列出所有子任务
4. 逐一实现、测试、提交代码 PR
5. 完成后 feature 分支合并到 main

### Q3: 如何处理跨周期的大功能？

**A:**
- 在规范中明确说明分阶段交付
- 每个阶段是一个独立的 PR
- 在 DEVELOPMENT_ROADMAP.md 中标注里程碑

### Q4: 文档更新频率是多少？

**A:**
- `PROJECT_SPECIFICATION.md`：每季度或产品方向调整时更新
- `DEVELOPMENT_ROADMAP.md`：每周末更新下周任务
- `FEATURE_TEMPLATE.md`：新特性时使用
- 其他文档：按需更新

---

## 🔗 重要链接

| 资源 | 链接 |
|------|------|
| GitHub 仓库 | [待填] |
| API 文档 | [待填] |
| 设计稿（Figma） | [待填] |
| 项目看板 | [待填] |
| Slack 频道 | [待填] |
| 后端接口地址 | http://218.206.102.135:8099 |

---

## 📞 支持

- **技术问题**：提出 GitHub Issue
- **设计问题**：联系产品经理
- **部署问题**：联系运维团队
- **紧急情况**：Slack @on-call

---

## 📈 项目进度跟踪

当前周期：**Week X / 10**

| 阶段 | 状态 | 完成度 |
|------|------|--------|
| 基础设施（Week 1-2） | ⏳ | 0% |
| 核心播放与采集（Week 3-4） | ⏳ | 0% |
| 业务流程（Week 5-6） | 📋 | 0% |
| 医生端大屏（Week 7） | 📋 | 0% |
| 用户体验（Week 8） | 📋 | 0% |
| 打包部署（Week 9） | 📋 | 0% |
| 测试验收（Week 10） | 📋 | 0% |

---

## 📝 文档维护说明

### 添加新文档

1. 创建 Markdown 文件（遵循命名规范）
2. 在本文档中添加索引条目
3. 更新"文档关系图"
4. 提交 PR 进行评审

### 更新现有文档

1. 修改文件
2. 更新"最后更新时间"
3. 记录变更原因（如果是大改动）
4. 通知相关团队成员

---

**版本历史**

| 版本 | 日期 | 作者 | 变更 |
|------|------|------|------|
| 1.0 | 2025-10-30 | Claude AI | 初创：项目宪法、规范、路线图、模板完整版 |

---

**最后更新**：2025-10-30
**下次更新**：Week 1 完成时
**维护人**：[项目经理名]

